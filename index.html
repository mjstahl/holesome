<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Holesome</title>
  <style>
    * {
      padding: 0;
      margin: 0
    }

    html,
    body,
    canvas {
      height: 100vh;
      width: 100vw;
    }

    canvas {
      background: #eee;
    }
  </style>
</head>

<body>
  <canvas id="holesome"></canvas>
  <script type="text/javascript">
    const canvas = document.getElementById("holesome")
    const ctx = canvas.getContext("2d")

    let upPressed = false
    let leftPressed = false
    let downPressed = false
    let rightPressed = false

    const squareSize = 5

    let x = canvas.width / 2
    let y = canvas.height / 2

    const moveBy = 2

    function onKeyDown(e) {
      switch (e.key) {
        case "w":
        case "ArrowUp":
          upPressed = true
          break
        case "a":
        case "ArrowLeft":
          leftPressed = true
          break
        case "s":
        case "ArrowDown":
          downPressed = true
          break
        case "d":
        case "ArrowRight":
          rightPressed = true
          break
      }
    }

    function onKeyUp(e) {
      switch (e.key) {
        case "w":
        case "ArrowUp":
          upPressed = false
          break
        case "a":
        case "ArrowLeft":
          leftPressed = false
          break
        case "s":
        case "ArrowDown":
          downPressed = false
          break
        case "d":
        case "ArrowRight":
          rightPressed = false
          break
      }
    }

    function drawBall() {
      ctx.beginPath()
      ctx.rect(x, y, squareSize, squareSize)
      ctx.fillStyle = "#0095DD"
      ctx.fill()
      ctx.closePath()
    }

    function moveBall() {
      // up, w
      if (upPressed) {
        y = y - moveBy
        if (y - squareSize < 0) {
          y = 0
        }
      }
      // left, a
      if (leftPressed) {
        x = x - moveBy
        if (x - squareSize < 0) {
          x = 0
        }
      }
      // down, s
      if (downPressed) {
        y = y + moveBy
        if (y + squareSize > canvas.height) {
          y = canvas.height - squareSize
        }
      }
      // right, d
      if (rightPressed) {
        x = x + moveBy
        if (x + squareSize > canvas.width) {
          x = canvas.width - squareSize
        }
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height)

      drawBall()
      moveBall()
    }

    document.addEventListener('keydown', onKeyDown, false)
    document.addEventListener('keyup', onKeyUp, false)

    setInterval(draw, 10)
  </script>
</body>

</html>